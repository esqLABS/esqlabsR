<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="esqlabsR">
<title>Data handling • esqlabsR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data handling">
<meta property="og:description" content="esqlabsR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">esqlabsR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data-handling.html">Data handling</a>
    <a class="dropdown-item" href="../articles/example-workflow.html">Exemplary workflow</a>
    <a class="dropdown-item" href="../articles/helper-methods.html">Helper methods</a>
    <a class="dropdown-item" href="../articles/introduction-esqlabsr.html">Introduction to esqlabsR</a>
    <a class="dropdown-item" href="../articles/modeling-simulation.html">Modeling and simulation workflows</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/esqLABS/esqlabsR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Data handling</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/esqLABS/esqlabsR/blob/HEAD/vignettes/data-handling.Rmd" class="external-link"><code>vignettes/data-handling.Rmd</code></a></small>
      <div class="d-none name"><code>data-handling.Rmd</code></div>
    </div>

    
    
<p>This package provides methods for convenient handling of x-y values data (e.g., time-concentration profiles) and organizing these data as objects of the class <code>XYData</code>. These objects can be used for direct access to the data, creating figures such as time-values profiles or predicted-vs-observed plots, or calculating residuals between observed and simulated data. Data for creation of an <code>XYData</code> object can come from a simulation, an excel file (e.g. observed data), or from array created in R.</p>
<div class="section level2">
<h2 id="xydata-overview">
<code>XYData</code> overview<a class="anchor" aria-label="anchor" href="#xydata-overview"></a>
</h2>
<p>An <code>XYData</code> object describes the following properties of data:</p>
<ul>
<li>x values</li>
<li>y values</li>
<li>Error of y values</li>
<li>Dimension of x and y values</li>
<li>Units the values are stored in (e.g., minutes or hours for the dimension Time).</li>
</ul>
<p>An object of <code>XYData</code> can be created from scratch using pre-defined x- and y- (and, optionally, y-error) values. Each object of <code>XYData</code> must have a label which serves as a name for the particular data set.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xVals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">yVals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>
<span class="va">yError</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0</span>, <span class="fl">0.1</span>, <span class="fl">1</span><span class="op">)</span>

<span class="co"># Create new object of type XYData</span>
<span class="va">xyData</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/XYData.html">XYData</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">xVals</span>, <span class="va">yVals</span>, yError <span class="op">=</span> <span class="va">yError</span>, label <span class="op">=</span> <span class="st">"My XY Data"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">xyData</span><span class="op">)</span>
<span class="co">#&gt; XYData: </span>
<span class="co">#&gt;    label: My XY Data </span>
<span class="co">#&gt;    x factor: 1 </span>
<span class="co">#&gt;    y factor: 1 </span>
<span class="co">#&gt;    x offset: 0 </span>
<span class="co">#&gt;    y offset: 0 </span>
<span class="co">#&gt;    Color: </span>
<span class="co">#&gt;    Type: p </span>
<span class="co">#&gt;    pch: </span>
<span class="co">#&gt;    lty: </span>
<span class="co">#&gt;    Data type: Unspecified </span>
<span class="co">#&gt;    X dimension: Time </span>
<span class="co">#&gt;    X unit: min </span>
<span class="co">#&gt;    Y dimension: Dimensionless </span>
<span class="co">#&gt;    Y unit:  </span>
<span class="co">#&gt;    Y error unit:</span></code></pre></div>
<p>Following fields are available:</p>
<ul>
<li>Access to the x, y, and y-error values of the object:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xyData</span><span class="op">$</span><span class="va">xValues</span>
<span class="co">#&gt; [1] 0 1 2 3</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yValues</span>
<span class="co">#&gt; [1] 4 5 6 7</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yError</span>
<span class="co">#&gt; [1] 0.1 0.0 0.1 1.0</span></code></pre></div>
<ul>
<li>Return the maximal and minimal values of x and y. For y values, the error (if specified) is added (subtracted for <code>yMin</code>) to/from the basal values!</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xyData</span><span class="op">$</span><span class="va">xMax</span>
<span class="co">#&gt; [1] 3</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">xMin</span>
<span class="co">#&gt; [1] 0</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yMax</span> <span class="co"># Maximal value of 7 plus the error 1</span>
<span class="co">#&gt; [1] 8</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yMin</span> <span class="co"># Minimal value of 4 minus the error 0.1</span>
<span class="co">#&gt; [1] 3.9</span></code></pre></div>
<ul>
<li>x and y values have a <strong>Dimension</strong> and a <strong>Unit</strong>. The list of supported dimensions is provided in the enum <code>Dimension</code>. By default, x values have the dimension <code>Time</code> and the unit <code>Minute</code>.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xyData</span><span class="op">$</span><span class="va">xDimension</span>
<span class="co">#&gt; [1] "Time"</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">xUnit</span>
<span class="co">#&gt; [1] "min"</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yDimension</span>
<span class="co">#&gt; [1] "Dimensionless"</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yUnit</span>
<span class="co">#&gt; [1] ""</span>
<span class="co"># List of all supported dimensions</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ospDimensions</span><span class="op">)</span>
<span class="co">#&gt; [1] 90</span>
<span class="va">ospDimensions</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; [1] "Abundance per mass protein"</span></code></pre></div>
<p>Setting the dimension will set the unit to the default unit of the dimension (even if the dimension did not actually change). For the list of default units, please refer to <a href="https://docs.open-systems-pharmacology.org/appendix/appendix" class="external-link">OSPS manual</a>. The unit of the y error values is automatically set to the base unit of the dimension when changing dimensions.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xyData</span><span class="op">$</span><span class="va">yDimension</span>
<span class="co">#&gt; [1] "Dimensionless"</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yUnit</span>
<span class="co">#&gt; [1] ""</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yErrorUnit</span>
<span class="co">#&gt; [1] ""</span>
<span class="co"># Change the dimension of y values</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yDimension</span> <span class="op">&lt;-</span> <span class="va">ospDimensions</span><span class="op">$</span><span class="va">`Concentration (molar)`</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yUnit</span>
<span class="co">#&gt; [1] "µmol/l"</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yErrorUnit</span>
<span class="co">#&gt; [1] "µmol/l"</span></code></pre></div>
<p>Be aware that changing the unit of y values will not automatically change the unit of the error - so it is possible to have the y values in “nmol/l” and the error in “µmol/l”.</p>
<p><code>XYData</code> also inherits several properties from the class <code>Plotable</code> which are described in the section <a href="figure-creation.html">Figure creation</a>.</p>
</div>
<div class="section level2">
<h2 id="xydata-as-a-plotable-object">
<code>XYData</code> as a <code>Plotable</code> object<a class="anchor" aria-label="anchor" href="#xydata-as-a-plotable-object"></a>
</h2>
<p>The class <code>XYData</code> inherits properties from the class <code>Plotable</code> that are being used when creating figures with <code>XYData</code> (see also <a href="figure-creation.html">Figure creation</a>). Among other properties, the class <code>Plotable</code> provides properties for transformation of x- and y-values. The properties <code>xOffset</code> and <code>yOffset</code> are added to x- and y-values, respectively, when processing (e.g., creating a figure) <code>XYData</code>. The properties <code>xFactor</code> and <code>yFactor</code> allow to scale the values by multiplying them by a certain factor. Keep in mind that the output of <code>XYData$xValues</code> and <code>XYData$yValues</code> is not affected by setting the offset and the factor, so it is always possible to access the untransformed values. In contrast, values of the fields <code>xMax</code>, <code>xMin</code>, <code>yMax</code>, and <code>yMin</code> are transformed before output.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xVals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">yVals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>
<span class="va">yError</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0</span>, <span class="fl">0.1</span>, <span class="fl">1</span><span class="op">)</span>

<span class="va">xyData</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/XYData.html">XYData</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">xVals</span>, <span class="va">yVals</span>, yError <span class="op">=</span> <span class="va">yError</span>, label <span class="op">=</span> <span class="st">"My XY Data"</span><span class="op">)</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">xValues</span>
<span class="co">#&gt; [1] 0 1 2 3</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yValues</span>
<span class="co">#&gt; [1] 4 5 6 7</span>

<span class="va">xyData</span><span class="op">$</span><span class="va">xMax</span>
<span class="co">#&gt; [1] 3</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">xMin</span>
<span class="co">#&gt; [1] 0</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yMax</span> <span class="co"># Maximal value of 7 plus the error 1</span>
<span class="co">#&gt; [1] 8</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yMin</span> <span class="co"># Minimal value of 4 minus the error 0.1</span>
<span class="co">#&gt; [1] 3.9</span>

<span class="co"># Offset x values by -1 and y values by 2</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">xOffset</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yOffset</span> <span class="op">&lt;-</span> <span class="fl">2</span>

<span class="co"># xValues and yValues are unaffected</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">xValues</span>
<span class="co">#&gt; [1] 0 1 2 3</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yValues</span>
<span class="co">#&gt; [1] 4 5 6 7</span>

<span class="va">xyData</span><span class="op">$</span><span class="va">xMax</span> <span class="co"># Maximal value of 3 plus offset -1</span>
<span class="co">#&gt; [1] 2</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">xMin</span> <span class="co"># Minimal value of 0 plus offset -1</span>
<span class="co">#&gt; [1] -1</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yMax</span> <span class="co"># Maximal value of 7 plus the error 1 plus offset 2</span>
<span class="co">#&gt; [1] 10</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yMin</span> <span class="co"># Minimal value of 4 minus the error 0.1 plus offset 2</span>
<span class="co">#&gt; [1] 5.9</span>

<span class="co"># Set y factor to 0.5</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yFactor</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>

<span class="va">xyData</span><span class="op">$</span><span class="va">yMax</span> <span class="co"># Maximal value of 7 plus the error 1 plus offset 2 multiplied by 0.5</span>
<span class="co">#&gt; [1] 5</span>
<span class="va">xyData</span><span class="op">$</span><span class="va">yMin</span> <span class="co"># Minimal value of 4 minus the error 0.1 plus offset 2 multiplied by 0.5</span>
<span class="co">#&gt; [1] 2.95</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="loading-data-from-excel-as-xydata">Loading data from excel as <code>XYData</code><a class="anchor" aria-label="anchor" href="#loading-data-from-excel-as-xydata"></a>
</h2>
<p>A special extension of <code>XYData</code> is <code>XYData</code>, a class designed for time-values data used in modeling and simulation activities with the OSPS. In addition to information stored by the <code>XYData</code> class, following meta data fields are available.</p>
<ul>
<li>StudyId</li>
<li>PatientId</li>
<li>Organ</li>
<li>Compartment</li>
<li>Species</li>
<li>Gender</li>
<li>Molecule</li>
<li>MW (molecular weight in case the data describes concentrations or amounts of a chemical molecule)</li>
<li>GroupId</li>
</ul>
<p>If the data set describes amounts or concentrations of a chemical compound, the field <code>$MW</code> should be set to the molecular weight (in g/mol) of the molecule to enable conversion between dimensions, as often used for data plotting.</p>
<p>Usually, <code>XYData</code> objects are created from an excel file by calling the method <code>readOSPSTimeValues</code>. The excel file must have the structure as defined in the Work Instruction “Modeling &amp; Simulation Data Structure”. Additionally, for each <code>Molecule</code> imported, a sheet in the “IN VIVO/IN VITRO COMPOUND PROPERTIES” file (see the Work Instruction) must be present to retrieve the molecular weight of the imported molecule.</p>
<p>The method <code>readOSPSTimeValues</code> reads the contents of the excel file and generates a list of <code>XYData</code> objects according to the groupings of the data. The data are generally grouped by the sheets of the excel file and the specified columns.</p>
<p>To read the data using <code>readOSPSTimeValues</code>, an object of the class <code>DataConfiguration</code> must be created and passed to the method. <code>DataConfiguration</code> is a structure containing following information:</p>
<ul>
<li>
<code>dataFolder</code>: Path to the folder where the excel files are located</li>
<li>
<code>dataFile</code>: Name of the excel file with time-values data. Must be located in <code>dataFolder</code>.</li>
<li>
<code>compoundPropertiesFile</code>: Name of the excel file with compound properties. Must be located in <code>dataFolder</code>.</li>
<li>
<code>dataSheets</code>: Name of the data sheet(s) with time-values data within the excel file. Multiple sheets can be processed.</li>
<li>
<code>columnsToSplitBy</code>: A list containing the names of the columns by which the data will be split into separate data sets.</li>
<li>
<code>XValuesColumn</code>: Index of the column that contains the x values.</li>
<li>
<code>YValuesColumn</code>: Index of the column that contains the y values.</li>
<li>
<code>YErrorColumn</code>: Index of the column that contains the error values of the y values.</li>
</ul>
<p>The values of <code>columnsToSplitBy</code>, <code>XValuesColumn</code>, <code>YValuesColumn</code>, and <code>YErrorColumn</code> are set to default values but can be changed by the user.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dataConf</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/DataConfiguration.html">DataConfiguration</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  dataFolder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">".."</span>, <span class="st">"tests"</span>, <span class="st">"data"</span><span class="op">)</span>,
  dataFile <span class="op">=</span> <span class="st">"CompiledDataSet.xlsx"</span>,
  compoundPropertiesFile <span class="op">=</span> <span class="st">"Compound_Properties.xlsx"</span>,
  dataSheets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TestSheet_1"</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">dataConf</span><span class="op">)</span>
<span class="co">#&gt; DataConfiguration: </span>
<span class="co">#&gt;    Data file directory: C:/Users/IndrajeetPatil/Documents/GitHub/esqlabsR/vignettes/../tests/data </span>
<span class="co">#&gt;    Data file: CompiledDataSet.xlsx </span>
<span class="co">#&gt;    Sheets: TestSheet_1 </span>
<span class="co">#&gt;    CompoundProperties file: Compound_Properties.xlsx </span>
<span class="co">#&gt;    Columns to split by: Group Id Gender Patient Id Dose Route Molecule Organ Compartment </span>
<span class="co">#&gt;    X values column: 10 </span>
<span class="co">#&gt;    Y values column: 11 </span>
<span class="co">#&gt;    Y error column: 12</span>

<span class="va">dataConf</span><span class="op">$</span><span class="va">columnsToSplitBy</span>
<span class="co">#&gt; [1] "Group Id"    "Gender"      "Patient Id"  "Dose"        "Route"      </span>
<span class="co">#&gt; [6] "Molecule"    "Organ"       "Compartment"</span></code></pre></div>
<p>Reading the file produces two data sets, as there are two different values for <code>IndividualId</code> contained in the data sheet. The method automatically recognizes and sets the dimensions and units of y and y values.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">observedData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readOSPSTimeValues.html">readOSPSTimeValues</a></span><span class="op">(</span>dataConfiguration <span class="op">=</span> <span class="va">dataConf</span><span class="op">)</span>
<span class="co">#&gt; Warning in stringToNum(yVals): NAs introduced by coercion</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">observedData</span><span class="op">)</span>
<span class="co">#&gt; [1] "TestSheet_1"</span>

<span class="va">observedData</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; $Male</span>
<span class="co">#&gt; $Male$Ind1</span>
<span class="co">#&gt; $Male$Ind1$iv</span>
<span class="co">#&gt; $Male$Ind1$iv$Dapagliflozin</span>
<span class="co">#&gt; $Male$Ind1$iv$Dapagliflozin$PeripheralVenousBlood</span>
<span class="co">#&gt; $Male$Ind1$iv$Dapagliflozin$PeripheralVenousBlood$Plasma</span>
<span class="co">#&gt; XYData: </span>
<span class="co">#&gt;    label: TestSheet_1.Male.Ind1.iv.Dapagliflozin.PeripheralVenousBlood.Plasma </span>
<span class="co">#&gt;    x factor: 1 </span>
<span class="co">#&gt;    y factor: 1 </span>
<span class="co">#&gt;    x offset: 0 </span>
<span class="co">#&gt;    y offset: 0 </span>
<span class="co">#&gt;    Color: </span>
<span class="co">#&gt;    Type: p </span>
<span class="co">#&gt;    pch: </span>
<span class="co">#&gt;    lty: </span>
<span class="co">#&gt;    Data type: Unspecified </span>
<span class="co">#&gt;    X dimension: Time </span>
<span class="co">#&gt;    X unit: h </span>
<span class="co">#&gt;    Y dimension: Concentration (mass) </span>
<span class="co">#&gt;    Y unit: ng/ml </span>
<span class="co">#&gt;    Y error unit: ng/ml </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Female</span>
<span class="co">#&gt; $Female$Ind2</span>
<span class="co">#&gt; $Female$Ind2$iv</span>
<span class="co">#&gt; $Female$Ind2$iv$Dapagliflozin</span>
<span class="co">#&gt; $Female$Ind2$iv$Dapagliflozin$PeripheralVenousBlood</span>
<span class="co">#&gt; $Female$Ind2$iv$Dapagliflozin$PeripheralVenousBlood$Plasma</span>
<span class="co">#&gt; XYData: </span>
<span class="co">#&gt;    label: TestSheet_1.Female.Ind2.iv.Dapagliflozin.PeripheralVenousBlood.Plasma </span>
<span class="co">#&gt;    x factor: 1 </span>
<span class="co">#&gt;    y factor: 1 </span>
<span class="co">#&gt;    x offset: 0 </span>
<span class="co">#&gt;    y offset: 0 </span>
<span class="co">#&gt;    Color: </span>
<span class="co">#&gt;    Type: p </span>
<span class="co">#&gt;    pch: </span>
<span class="co">#&gt;    lty: </span>
<span class="co">#&gt;    Data type: Unspecified </span>
<span class="co">#&gt;    X dimension: Time </span>
<span class="co">#&gt;    X unit: h </span>
<span class="co">#&gt;    Y dimension: Concentration (mass) </span>
<span class="co">#&gt;    Y unit: ng/ml </span>
<span class="co">#&gt;    Y error unit: ng/ml</span></code></pre></div>
<p>Note that the <code>dataType</code> field is automatically set to “Observed”.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Pavel Balazki.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
