---
title: "Create an esqlabsR Project"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{esqlabs-project-structure}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(esqlabsR)
```


Project Structure can be initialized with `init_project`.

```{r, eval=FALSE}
library(esqlabsR)

init_project(type = "demo") 
# or simply init_project() to create an empty folder structure and excel templates.
```

It will create a set of directories and files that match the expected project's 
structure.

```
my_project
├── ProjectConfiguration.xlsx
├── Data
├── Models
├── Parameters
│   ├── ApplicationParameters.xlsx
│   ├── Individuals.xlsx
│   ├── ModelParameters.xlsx
│   ├── Plots.xlsx
│   ├── PopulationParameters.xlsx
│   ├── Populations
│   │   └── PopulationScenario_population.csv
│   └── Scenarios.xlsx
└── Results
    ├── Figures
    └── SimulationResults

```
## Project's components

### `ProjectConfiguration.xlsx`

This file defines *where* all the necessary files are stored in the project 
folder. All the path specified in the `Value` column should be *relative* to the
`ProjectConfiguration.xlsx` location.

All these directories and file have a specific purpose and template:

```{r, echo = FALSE}
ProjectConfiguration_excel <- readxl::read_xlsx(example_ProjectConfiguration())

reactable::reactable(ProjectConfiguration_excel,
                     columns = list(
                       "Property" = reactable::colDef(minWidth = 50),
                       "Value" = reactable::colDef(show = FALSE),
                       "Description" = reactable::colDef(minWidth = 100)
                     ),
                     outlined = TRUE,
                     pagination = FALSE,
                     highlight = TRUE)
```


The `ProjectConfiguration.xlsx` file will be used by `esqlabsR` to generate a
`ProjectConfiguration` object which is the central piece of a project.

```{r, eval=FALSE}
my_project_configuration <- createDefaultProjectConfiguration(path = example_ProjectConfiguration())

my_project_configuration
```


Notice that the `ProjectConfiguration` links to the other and files that 
constitute the project.

### `Data/`
The `Data/` folder should contain all the Excel files with observed experimental 
data.

### `Models/`
The `Models/` folder should contain all the `.pkml` files generated with the 
OSPS suite.

### `Parameters/`
The `Parameters/` folder contains all the main Excel templates that serve as 
inputs to parameterize the simulations, plot outputs *etc.*

### `Results/`
The `Results/` is where Figures and SimulationResults outputs generated by
`esqlabsR` will be written by default.

