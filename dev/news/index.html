<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • esqlabsR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://esqlabs.github.io/esqlabsR/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">esqlabsR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">5.3.0.9012</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/esqlabsR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>esqlabsR Workflow</h6></li>
    <li><a class="dropdown-item" href="../articles/esqlabsR-workflow-overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/esqlabsR-project-structure.html">1. Initialize a Project</a></li>
    <li><a class="dropdown-item" href="../articles/esqlabsR-design-scenarios.html">2. Design Scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/esqlabsR-run-simulations.html">3. Run Simulations</a></li>
    <li><a class="dropdown-item" href="../articles/esqlabsR-plot-results.html">4. Plot Results</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Miscellaneous</h6></li>
    <li><a class="dropdown-item" href="../articles/presentations.html">Presentations</a></li>
    <li><a class="dropdown-item" href="../articles/esqlabsR-sensitivity.html">Sensitivity Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/esqlabsR-advanced.html">Advanced Topics</a></li>
    <li><a class="dropdown-item" href="../articles/project-migration-guide.html">Migrating Project Structure Versions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/esqLABS/esqlabsR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/esqLABS/esqlabsR/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="esqlabsr-development-version">esqlabsR (development version)<a class="anchor" aria-label="anchor" href="#esqlabsr-development-version"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-development-version">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-development-version"></a></h3>
<ul><li>
<p>The Importer configuration provided with the template project has been updated to include <code>Gender</code> in the naming pattern. The new naming pattern is as follows:</p>
<p><code>{Study Id}_{Molecule}_{Subject Id}_{Species}_{Gender}_{Organ}_{Compartment}_{Dose}_{Route}_{Group Id}</code>.</p>
<p>This change will only affect new projects initailized with the new package version. Keep in mind that <code>Plots.xlsx</code> files created with the old naming pattern will not work with the new configuration. You will have to manually add the <code>Gender</code> naming section (if no gender was specified in the observed data excel sheet, simply add an additional <code>_</code>) after the <code>Species</code> section to the names of the data sets specified in the <code>DataCombined</code> sheet of the <code>Plots.xlsx</code> file.</p>
</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-development-version">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-development-version"></a></h3>
<ul><li><p>Fix warnings related to NSE evaluation (<a href="https://github.com/esqLABS/esqlabsR/issues/762" class="external-link">#762</a>)</p></li>
<li><p>Figures defined for the export in the <code>exportConfiguration</code> sheet of the <code>Plots.xlsx</code> file are now exported to the subfolder <code>Figures\&lt;Current Time Stamp&gt;</code> of the <code>Results</code> folder defined in the <code>ProjectConfiguration</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/778" class="external-link">#778</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.3.0" id="esqlabsr-530">esqlabsR 5.3.0<a class="anchor" aria-label="anchor" href="#esqlabsr-530"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-5-3-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-5-3-0"></a></h3>
<ul><li><p>Function <code><a href="../reference/sensitivityCalculation.html">sensitivityCalculation()</a></code> with renamed parameter <code>pkDataFilePath</code> to <code>saOutputFilePath</code> and updated output files to include PK parameter units (<a href="https://github.com/esqLABS/esqlabsR/issues/696" class="external-link">#696</a>).</p></li>
<li><p>Function <code><a href="../reference/sensitivityCalculation.html">sensitivityCalculation()</a></code> now accepts <code>variationRange</code> as both <code>absolute</code> and <code>relative</code> values, specified by the <code>variationType</code> parameter. Added support for passing <code>variationRange</code> as a list, allowing individual variations for each parameter in <code>parameterPaths</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/731" class="external-link">#731</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="major-changes-5-3-0">Major Changes<a class="anchor" aria-label="anchor" href="#major-changes-5-3-0"></a></h3>
<ul><li><p><code>createDefaultProjectConfiguration</code> is now soft-deprecated in favor of <code>createProjectConfiguration</code>. (<a href="https://github.com/esqLABS/esqlabsR/issues/692" class="external-link">#692</a>)</p></li>
<li><p><code>ProjectConfiguration</code> fields have been renamed to be more consistant and easier to understand. (<a href="https://github.com/esqLABS/esqlabsR/issues/692" class="external-link">#692</a>)</p></li>
<li>
<p>Files and folders names in project directory have been harmonized and improved (<a href="https://github.com/esqLABS/esqlabsR/issues/692" class="external-link">#692</a>)</p>
<ul><li>
<code>Parameters</code> folder is now <code>Configurations</code>
</li>
<li>
<code>Populations</code> folder is now <code>PopulationsCSV</code>
</li>
<li>
<code>ApplicationParameters.xslx</code> file is now <code>Applications.xlsx</code>
</li>
<li>
<code>PopulationParameters.xslx</code> file is now <code>Populations.xlsx</code>
</li>
<li>Previous directory structure is still supported but deprecated.</li>
</ul></li>
<li><p><code>{ospsuite.parameteridentification}</code> is not longer a dependency of <a href="https://github.com/esqLABS/esqlabsR" class="external-link">esqlabsR</a>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-5-3-0">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-5-3-0"></a></h3>
<ul><li><p>When an application protocol defined for a scenario is not found in the excel file, an error is thrown.</p></li>
<li><p>Handle simulation failures in <code>sensitivityCalculation</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/694" class="external-link">#694</a>).</p></li>
<li><p>Function <code><a href="../reference/sensitivityCalculation.html">sensitivityCalculation()</a></code> supports new parameter <code>customOutputFunctions</code>, allowing user-defined functions for PK parameter calculation (<a href="https://github.com/esqLABS/esqlabsR/issues/685" class="external-link">#685</a>).</p></li>
<li><p>Function <code>sensitivitySpiderPlot</code> now supports <code>xAxisType</code> and <code>yAxisType</code> options for switching between percent and absolute values (<a href="https://github.com/esqLABS/esqlabsR/issues/695" class="external-link">#695</a>).</p></li>
<li><p>Function <code><a href="../reference/sensitivityCalculation.html">sensitivityCalculation()</a></code> will throw more informative messages when <code>outputPaths</code> or <code>parameterPaths</code> is not a character vector or NULL (<a href="https://github.com/esqLABS/esqlabsR/issues/712" class="external-link">#712</a>).</p></li>
<li><p>Minor improvements and bug fixes (<a href="https://github.com/esqLABS/esqlabsR/issues/720" class="external-link">#720</a>).</p></li>
<li><p>Embedded Shiny Application were removed. (<a href="https://github.com/esqLABS/esqlabsR/issues/736" class="external-link">#736</a>). <code>Function Visualizer</code> can be found <a href="https://github.com/esqLABS/esqlabsR.FunctionVisualizer" class="external-link">in its dedicated repository</a> while <code>Unit Converter</code> is available as a RStudio Addin <a href="https://github.com/Open-Systems-Pharmacology/OSPSuite.Addins" class="external-link">here</a>.</p></li>
<li><p>Test ospsuite plotting functions are compatible with <code>esqlabsPlotConfiguration</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/733" class="external-link">#733</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.2.0" id="esqlabsr-520">esqlabsR 5.2.0<a class="anchor" aria-label="anchor" href="#esqlabsr-520"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-5-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-5-2-0"></a></h3>
<ul><li><p><a href="https://github.com/esqLABS/esqlabsR" class="external-link">esqlabsR</a> now requires <a href="https://github.com/open-systems-pharmacology/ospsuite-r" class="external-link">ospsuite</a> version 12.1.0 or higher to benefit from embedded PK-Sim core files.</p></li>
<li><p>Function <code>exportSteadyStateToXLS</code> has been removed in favor of <code><a href="https://www.open-systems-pharmacology.org/OSPSuite-R/reference/exportSteadyStateToXLS.html" class="external-link">ospsuite::exportSteadyStateToXLS</a></code> (<a href="https://github.com/esqLABS/esqlabsR/issues/598" class="external-link">#598</a>)</p></li>
<li><p>Function <code>sensitivitySpiderPlot</code> overhauled with new parameters. <code>yAxisType</code> to toggle between <code>percent</code>and <code>absolute</code> values. <code>xAxisScale</code> and <code>yAxisScale</code> to set axis scales to <code>log</code> or <code>lin</code>. <code>yAxisFacetScales</code> to choose between <code>free</code> and <code>fixed</code> scales for y-axis. Further plot customization options through <code>defaultPlotConfiguration</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/632" class="external-link">#632</a>).</p></li>
<li>
<p>Function <code>sensitivityTimeProfiles</code> with new signature and enhanced visuals:</p>
<ul><li>
<code>xAxisScale</code> and <code>yAxisScale</code> to set axis scales to <code>log</code> or <code>lin</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/669" class="external-link">#669</a>).</li>
<li>
<code>xUnits</code> and <code>yUnits</code> to change units in the plot (<a href="https://github.com/esqLABS/esqlabsR/issues/688" class="external-link">#688</a>).</li>
<li>Enhanced plot customization options through <code>defaultPlotConfiguration</code> as described in the documentation (<a href="https://github.com/esqLABS/esqlabsR/issues/669" class="external-link">#669</a>).</li>
<li>Support for adding <code>observedData</code> (single or multiple <code>DataSet</code> objects) to the plots (<a href="https://github.com/esqLABS/esqlabsR/issues/674" class="external-link">#674</a>).</li>
</ul></li>
<li><p>Function <code>writeExcel()</code> is no longer exported. (<a href="https://github.com/esqLABS/esqlabsR/issues/672" class="external-link">#672</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="major-changes-5-2-0">Major Changes<a class="anchor" aria-label="anchor" href="#major-changes-5-2-0"></a></h3>
<ul><li><p>New <code>sensitivityTornadoPlot</code> function for generating tornado plots that evaluate the impact of parameter changes on sensitivity analysis outcomes. It utilizes <code>parameterFactor</code> to depict the scaling effects of parameter modifications. Provides plot customization options through <code>defaultPlotConfiguration</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/652" class="external-link">#652</a>).</p></li>
<li><p>New function <code>writeParameterStructureToXLS</code> to write a list of parameter paths, values, and units (e.g., imported using the <code><a href="../reference/readParametersFromXLS.html">readParametersFromXLS()</a></code> function) to an Excel file. In contrast to <code><a href="../reference/exportParametersToXLS.html">exportParametersToXLS()</a></code>, which writes an excel file for a list of <code>Parameter</code> objects, this function expects the parameter structure as used throughout the package.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-5-2-0">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-5-2-0"></a></h3>
<ul><li><p>Function <code>createScenarios</code> gets a new argument <code>stopIfParameterNotFound</code>. If <code>TRUE</code> (default), a scenario will not be created and an error is thrown if any user-defined parameter (e.g., provided in Excel files) is not found in the simulation. If <code>FALSE</code>, non-existing parameters are ignored. (<a href="https://github.com/esqLABS/esqlabsR/issues/559" class="external-link">#559</a>)</p></li>
<li><p>Constructor of a <code>Scenario</code> class gets a new argument <code>stopIfParameterNotFound</code>.</p></li>
<li><p>More explicit error is shown if x/yOffsetsUnit is not set when x/yOffset is defined.</p></li>
<li><p>Plotting functions have improved dynamic axis breaks, limits calculation, and labeling (<a href="https://github.com/esqLABS/esqlabsR/issues/691" class="external-link">#691</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.1.3" id="esqlabsr-513">esqlabsR 5.1.3<a class="anchor" aria-label="anchor" href="#esqlabsr-513"></a></h2>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-5-1-3">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-5-1-3"></a></h3>
<ul><li>Continuous Integration/Continuous Deployment pipeline improvements (<a href="https://github.com/esqLABS/esqlabsR/issues/590" class="external-link">#590</a>, <a href="https://github.com/esqLABS/esqlabsR/issues/592" class="external-link">#592</a>, <a href="https://github.com/esqLABS/esqlabsR/issues/601" class="external-link">#601</a>)</li>
<li>Several bug fixes (<a href="https://github.com/esqLABS/esqlabsR/issues/581" class="external-link">#581</a>, <a href="https://github.com/esqLABS/esqlabsR/issues/585" class="external-link">#585</a>, <a href="https://github.com/esqLABS/esqlabsR/issues/594" class="external-link">#594</a>, <a href="https://github.com/esqLABS/esqlabsR/issues/600" class="external-link">#600</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.1.2" id="esqlabsr-512">esqlabsR 5.1.2<a class="anchor" aria-label="anchor" href="#esqlabsr-512"></a></h2>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-5-1-2">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-5-1-2"></a></h3>
<ul><li>Fixes a bug where scenario results could not be saved or loaded when scenario name contains a slash or a backslash (<a href="https://github.com/esqLABS/esqlabsR/issues/548" class="external-link">#548</a>)</li>
<li>Add support for <code>nsd</code> argument from <code><a href="https://www.open-systems-pharmacology.org/OSPSuite-R/reference/plotPopulationTimeProfile.html" class="external-link">ospsuite::plotPopulationTimeProfile()</a></code> aggregation methods. A new column <code>nsd</code> was added to the <code>PlotConfiguration</code> sheet in the example <code>Plot.xlsx</code> (<a href="https://github.com/esqLABS/esqlabsR/issues/544" class="external-link">#544</a>).</li>
<li>Documentation includes PK-Sim installation instructions (<a href="https://github.com/esqLABS/esqlabsR/issues/537" class="external-link">#537</a>).</li>
<li>Better error message if some ids are not unique in the excel configuration files (<a href="https://github.com/esqLABS/esqlabsR/issues/568" class="external-link">#568</a>)</li>
<li>Handles better empty rows in the excel configuration files (<a href="https://github.com/esqLABS/esqlabsR/issues/569" class="external-link">#569</a>)</li>
<li>Cleaner NEWS file (<a href="https://github.com/esqLABS/esqlabsR/issues/527" class="external-link">#527</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.1.1" id="esqlabsr-511">esqlabsR 5.1.1<a class="anchor" aria-label="anchor" href="#esqlabsr-511"></a></h2>
<ul><li>Update required dependencies versions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.1.0" id="esqlabsr-510">esqlabsR 5.1.0<a class="anchor" aria-label="anchor" href="#esqlabsr-510"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-5-1-0">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-5-1-0"></a></h3>
<ul><li>
<p>When importing observed data using the default importer configuration, data set naming is grouped by <code>StudyId</code> at the first place.</p>
<ul><li>Before: <code>{Molecule}_{Study Id}_{Subject     Id}_{Species}_{Organ}_{Compartment}_{Dose}_{Route}_{Group Id}</code>
</li>
<li>After: <code>{Study Id}_{Molecule}_{Subject     Id}_{Species}_{Organ}_{Compartment}_{Dose}_{Route}_{Group Id}</code>
</li>
</ul><p>This will result in different data set names, and plots specifying the data sets by the old naming will fail. For compatibility, use custom importer configuration with the old naming:</p>
<pre><code><span>  <span class="va">importerConfiguration</span> <span class="op">&lt;-</span> <span class="fu">ospsuite</span><span class="fu">::</span><span class="fu"><a href="https://www.open-systems-pharmacology.org/OSPSuite-R/reference/loadDataImporterConfiguration.html" class="external-link">loadDataImporterConfiguration</a></span><span class="op">(</span></span>
<span>    configurationFilePath <span class="op">=</span> <span class="va">projectConfiguration</span><span class="op">$</span><span class="va">dataImporterConfigurationFile</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">importerConfiguration</span><span class="op">$</span><span class="va">namingPattern</span> <span class="op">&lt;-</span> <span class="st">"{Molecule}_{Study Id}_{Subject Id}_{Species}_{Organ}_{Compartment}_{Dose}_{Route}_{Group Id}"</span></span></code></pre>
</li>
</ul></div>
<div class="section level3">
<h3 id="major-changes-5-1-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-5-1-0"></a></h3>
<ul><li><p><code><a href="../reference/loadObservedData.html">loadObservedData()</a></code> gets a new argument <code>importerConfiguration</code>. The user can now provide a custom importer configuration for loading the data.</p></li>
<li><p>Plots.xlsx, sheet ‘plotConfiguration’, now uses <code>xValuesLimits</code> and <code>yValuesLimits</code> to set axis limits of the plots by default. This approach filters data outside of the limits. See <a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html#ref-examples" class="external-link uri">https://ggplot2.tidyverse.org/reference/coord_cartesian.html#ref-examples</a> for more details. The user can still use <code>xAxisLimits</code> and <code>yAxisLimits</code>.</p></li>
<li>
<p>Sheet ‘plotConfiguration’ in the Excel file ‘Plots’ gets additional column ‘aggregation’. The value is passed to the function <code><a href="https://www.open-systems-pharmacology.org/OSPSuite-R/reference/plotPopulationTimeProfile.html" class="external-link">plotPopulationTimeProfile()</a></code>. Supported values are listed in <code><a href="https://www.open-systems-pharmacology.org/OSPSuite-R/reference/DataAggregationMethods.html" class="external-link">ospsuite::DataAggregationMethods</a></code>.</p>
<ul><li>
<code>arithmetic</code>: population results are plotted as arithmetic mean +- arithmetic standard deviation</li>
<li>
<code>geometric</code>: population results are plotted as geometric mean +- geometric standard deviation</li>
<li>
<code>quantiles</code> (default): population results are plotted as quantiles defined in the column <code>quantiles</code>.</li>
</ul></li>
<li><p>Protein ontogenies can be defined for populations and individuals. To specify ontogenies for proteins in the simulation, list the proteins you want to define ontogenies for in the column ‘Protein’ of files ‘PopulationParameters.xlsx’ or ‘Individuals.xlsx’, separated by a ‘,’. Specify the ontogenies available in PK-Sim (see article <a href="https://www.open-systems-pharmacology.org/OSPSuite-R/articles/create-individual.html#adding-enzyme-ontogenies" class="external-link uri">https://www.open-systems-pharmacology.org/OSPSuite-R/articles/create-individual.html#adding-enzyme-ontogenies</a>) in the column ‘Ontogenies’. The number of entries in the both columns must be equal.</p></li>
<li><p>Excel file ‘PopulationParameters.xlsx’ gets additional columns ‘Protein’ and ‘Ontogeny’.</p></li>
<li><p>Excel file ‘Individuals.xlsx’ gets additional columns ‘Protein’ and ‘Ontogeny’.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-5-1-0">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-5-1-0"></a></h3>
<ul><li><p>When a scenario fails, <code><a href="../reference/runScenarios.html">runScenarios()</a></code> does not crash any more, but a warning is shown with the name of the failed scenario. The returned <code>outputValues</code> is <code>NULL</code>.</p></li>
<li><p>Throw a warning instead of an error if a path specified in <code>ProjectConfiguration</code> does not exist. <code>$outputFolder</code> existence is not checked anymore.</p></li>
<li><p><code><a href="../reference/stringToNum.html">stringToNum()</a></code> does not show a warning <code>NAs introduced by coercion</code> when a value cannot be converted to a numeric any more. For such values, <code>NA</code> is silently returned.</p></li>
<li><p>exportParametersToXLS - ignore parameters with NaN (<a href="https://github.com/esqLABS/esqlabsR/issues/480" class="external-link">#480</a>)</p></li>
<li><p>Show a meaningful error when no time unit is specified for a scenario (<a href="https://github.com/esqLABS/esqlabsR/issues/483" class="external-link">#483</a>)</p></li>
<li><p>New vignette/article about figure creation.</p></li>
<li><p>Plots are using new color palette.</p></li>
<li><p>Some modifications to plot configuration files for better plots. (<a href="https://github.com/esqLABS/esqlabsR/issues/456" class="external-link">#456</a>)</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="5.0.0" id="esqlabsr-500">esqlabsR 5.0.0<a class="anchor" aria-label="anchor" href="#esqlabsr-500"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-5-0-0">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-5-0-0"></a></h3>
<ul><li><p>Field <code>setTestParameters</code> removed from <code>ScenarioConfiguration</code></p></li>
<li><p>Function <code>initializeScenario()</code> has been removed.</p></li>
<li><p>Definition of simulation time in the <code>Scenarios.xlsx</code> file changed. The new expected format is a triplet of values &lt;StartTime, EndTime, Resolution&gt;, where <code>Resolution</code> is the number of simulated points per time unit defined in the column <code>TimeUnit</code>.</p></li>
<li><p>Field <code>poinstPerMinute</code> of <code>ScenarioConfiguration</code> has been removed.</p></li>
<li><p>Function <code>compareSimulationParameters()</code> has been removed and replaced by <code><a href="../reference/compareSimulations.html">compareSimulations()</a></code></p></li>
<li><p><code>Scenarios</code> excel file gets additional columns <code>SteadyStateTime</code>, <code>SteadyStateTimeUnit</code>, <code>PopulationId</code>, <code>OutputPathsIds</code>.</p></li>
<li><p><code><a href="../reference/readScenarioConfigurationFromExcel.html">readScenarioConfigurationFromExcel()</a></code> has a new signature and requires a list of <code>scenarioNames</code> and a <code>ProjectConfiguration</code>. The output is a named list of <code>ScenarioConfiguration</code> objects.</p></li>
<li><p>Output paths are not set from global variable <code>OutputPaths</code> any more but from the respective field of <code>ScenarioConfgiruation</code></p></li>
<li><p><code>ProjectConfiguration</code> does not have field <code>$outputDevice</code> any more.</p></li>
<li><p><code>ScenarioConfiguration</code> does not store <code>SimulationRunOptions</code> any more. Simulation run options must be passed to the <code><a href="../reference/runScenarios.html">runScenarios()</a></code> function. Different run options cannot be used within one scenarios run.</p></li>
<li><p>Enum <code>GraphicsDevices</code> has been removed.</p></li>
<li><p>Function <code><a href="../reference/initializeSimulation.html">initializeSimulation()</a></code> does not have arguments <code>simulateSteadyState</code>, <code>steadyStateTime</code> and <code>simulationRunOptions</code> any more.</p></li>
</ul></div>
<div class="section level3">
<h3 id="major-changes-5-0-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-5-0-0"></a></h3>
<ul><li><p>New class <code>Scenario</code> that represents a scenario created from a <code>ScenarioConfiguration</code>.</p></li>
<li><p><code>ScenarioConfiguration</code> gets a new field <code>outputPaths</code> which is a list of output paths for which the results will be calculated. If <code>NULL</code> (default), outputs as defined in the simulation are used.</p></li>
<li><p>Paths of model outputs are defined in the excel file <code>Scenarios.xlsx</code>. In the sheet <code>OutputPaths</code>, create an entry for each output. The column <code>OutputPath</code> is the full path to the output, while <code>OutputPathId</code> is an identifier that conveniently allows to select the correct output.<br>
In the <code>Scenarios</code> sheet, enter the IDs of all paths the outputs should be generated for, separated by a <code>,</code>, e.g. <code>Aciclovir_PVB, Aciclovir_fat_cell</code>. If no outputs are specified, the outputs as defined in the simulation <code>.pkml</code> file will be produced.</p></li>
<li><p><code>ScenarioConfiguration</code> gets a new field <code>populationId</code>, specifying the id of the population as defined in the <code>PopulationParameters.xlsx</code> file, sheet <code>Demographics</code>. If the field is <code>NULL</code>, the scenario is simulated as an individual simulation, otherwise a population simulation is performed.</p></li>
<li><p><code>ScenarioConfiguration</code> gets a new field <code>readPopulationFromCSV</code>. If <code>FALSE</code> (default), a new population is created from defined population demographics. If <code>TRUE</code>, a simulation will be imported from a csv sheet located in the folder <code>Parameters/Populations</code> and named as the <code>PopulationId</code>.</p></li>
<li><p><code><a href="../reference/runScenarios.html">runScenarios()</a></code> supports scenario configurations for population simulations.</p></li>
<li><p>Target folder for saving <code>*.pkml</code> simulations when <code>runScenarios(scenarioConfigurations, saveSimulationsToPKML = TRUE)</code> changed from <code>Models/Simulations/&lt;DateSuffix&gt;</code> to <code>Results/SimulationResults/&lt;DateSuffix&gt;</code>.</p></li>
<li><p><code><a href="../reference/sensitivityCalculation.html">sensitivityCalculation()</a></code> - fixed bug in wrong calculation of sensitivity values. Please be aware that the results produced by earlier versions are wrong.</p></li>
<li>
<p>The workflow for running scenarios changed to:</p>
<ul><li>Create a <code>ProjectConfiguration</code> with <code><a href="../reference/createDefaultProjectConfiguration.html">createDefaultProjectConfiguration()</a></code>
</li>
<li>Create <code>ScenarioConfigurations</code>, e.g. with readScenarioConfigurationFromExcel(scenarioNames, projectConfiguration)`</li>
<li>Run scenarios with <code>runScenarios(scenarioConfigurations)</code> Alternatively:</li>
<li>Create a <code>ProjectConfiguration</code> with <code><a href="../reference/createDefaultProjectConfiguration.html">createDefaultProjectConfiguration()</a></code>
</li>
<li>Create <code>ScenarioConfigurations</code>, e.g. with</li>
</ul></li>
</ul><p><code>readScenarioConfigurationFromExcel(scenarioNames, projectConfiguration)</code></p>
<ul><li><p><code>ProjectConfiguration</code> gets a new field <code>plotsFile</code>. It is the name of the excel file with plot definitions and must be located in the <code>paramsFolder</code>.</p></li>
<li><p>When defining an individual of other species than human in <code>ScenarioConfiguration</code> and applying it to a human model, missing species-specific parameters are applied and the scaling works properly. Supported scalings are: Human to rat, human to monkey, human to rabbit.</p></li>
<li><p><code><a href="../reference/initializeSimulation.html">initializeSimulation()</a></code> does not perform steady-state run any more. This is done as part of the <code><a href="../reference/runScenarios.html">runScenarios()</a></code> function.</p></li>
<li><p>New function <code><a href="../reference/loadObservedDataFromPKML.html">loadObservedDataFromPKML()</a></code> to load data from <code>*.pkml</code> located in the “PKML” sub-folder of the “Data” folder.</p></li>
<li><p>New function <code><a href="../reference/createScenarios.html">createScenarios()</a></code> to create <code>Scenario</code> objects from <code>ScenarioConfiguration</code> objects.</p></li>
<li><p>Plots can be created by calling the new function <code><a href="../reference/createPlotsFromExcel.html">createPlotsFromExcel()</a></code>. It requires as input parameters <code>simulatedScenarios</code> (a list of simulated scenarios as returned by <code><a href="../reference/runScenarios.html">runScenarios()</a></code>), <code>observedData</code> (a list of <code>DataSet</code> objects) and a <code>ProjectConfiguration</code> object <code>projectConfiguration</code>.</p></li>
<li><p>New function <code><a href="../reference/createDataCombinedFromExcel.html">createDataCombinedFromExcel()</a></code> creates <code>DataCombined</code> objects as defined in the <code>Plots.xlsx</code> file.</p></li>
<li><p>New function <code><a href="../reference/saveScenarioResults.html">saveScenarioResults()</a></code> to save results produced by the <code><a href="../reference/runScenarios.html">runScenarios()</a></code> function to csv files and corresponding simulations to pkml files.</p></li>
<li><p>New function <code><a href="../reference/loadScenarioResults.html">loadScenarioResults()</a></code> to load results from csv files into a structure as produced by the <code><a href="../reference/runScenarios.html">runScenarios()</a></code> function.</p></li>
<li><p>New function <code>compareSimulation()</code> to compare two simulations for differences.</p></li>
<li><p><code><a href="../reference/runScenarios.html">runScenarios()</a></code> also returns a <code>Population</code> object for population simulations.</p></li>
<li><p><code><a href="../reference/runScenarios.html">runScenarios()</a></code> gets a new argument <code>savePopulationToCSV</code>, with default value <code>FALSE</code>.</p></li>
<li><p><code>esqlabsR</code> extends the <code><a href="https://rdrr.io/pkg/tlf/man/ExportConfiguration.html" class="external-link">tlf::ExportConfiguration</a></code> class to dynamically calculate the height of the exported figure from the number of rows and the new parameter <code>heightPerRow</code>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-and-bug-fixes-5-0-0">Minor changes and bug fixes<a class="anchor" aria-label="anchor" href="#minor-changes-and-bug-fixes-5-0-0"></a></h3>
<ul><li><p>Function <code><a href="../reference/stringToNum.html">stringToNum()</a></code> gets additional arguments <code>lloqMode</code> and <code>uloqMode</code> that determine how entries of type “&lt;number” and “&gt;number” will be treated.</p></li>
<li><p><code><a href="../reference/readScenarioConfigurationFromExcel.html">readScenarioConfigurationFromExcel()</a></code> will read all scenarios defined in the <code>Scenarios.xlsx</code> file if no scenario names are specified (argument <code>scenarioNames = NULL</code>).</p></li>
<li><p>Function <code><a href="../reference/setApplications.html">setApplications()</a></code> is deprecated.</p></li>
<li><p>Dark gray frame around legends by default.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="4.0.0" id="esqlabsr-400">esqlabsR 4.0.0<a class="anchor" aria-label="anchor" href="#esqlabsr-400"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-4-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-4-0-0"></a></h3>
<ul><li><p>The package requires R version &gt;=4.1.</p></li>
<li>
<p>The package gains new dependencies:</p>
<ul><li><a href="https://github.com/Open-Systems-Pharmacology/OSPSuite.ParameterIdentification/" class="external-link"><code>{ospsuite.parameteridentification}</code></a></li>
<li>
<a href="https://www.open-systems-pharmacology.org/TLF-Library/" class="external-link"><code>{tlf}</code></a>.</li>
</ul></li>
<li><p>Function <code><a href="https://www.open-systems-pharmacology.org/OSPSuite-R/reference/getSteadyState.html" class="external-link">getSteadyState()</a></code> has been moved to package <code>{ospsuite.parameteridentification}</code>.</p></li>
<li><p>Function <code><a href="../reference/loadObservedData.html">loadObservedData()</a></code> requires a <code>ProjectConfiguration</code> instead of a <code>ScenarioConfiguration</code>.</p></li>
<li><p><code>DataMapping</code>, <code>DataMappingConfiguration</code>, <code>XYData</code>, <code>DataConfiguration</code> and associated functions for creating standard figures are moved to <code>esqlabsRLegacy</code> <a href="https://esqlabs.github.io/esqlabsRLegacy/">package</a>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="major-changes-4-0-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-4-0-0"></a></h3>
<ul><li>
<p>Three new functions to create configuration objects needed for data visualization workflows:</p>
<ul><li><code><a href="../reference/createEsqlabsPlotConfiguration.html">createEsqlabsPlotConfiguration()</a></code></li>
<li><code><a href="../reference/createEsqlabsPlotGridConfiguration.html">createEsqlabsPlotGridConfiguration()</a></code></li>
<li><code><a href="../reference/createEsqlabsExportConfiguration.html">createEsqlabsExportConfiguration()</a></code></li>
</ul></li>
<li><p>New function <code><a href="../reference/getAllApplicationParameters.html">getAllApplicationParameters()</a></code> that returns all parameters of applications in a simulation</p></li>
<li><p>New function <code><a href="../reference/exportParametersToXLS.html">exportParametersToXLS()</a></code> to write parameter information into an excel file that can be loaded in MoBi or R using the <code><a href="../reference/readParametersFromXLS.html">readParametersFromXLS()</a></code> function.</p></li>
<li><p>New function <code>writeExcel()</code> that is a wrapper for creating a directory (if not present) and writing to excel file using <code><a href="https://docs.ropensci.org/writexl//reference/write_xlsx.html" class="external-link">writexl::write_xlsx()</a></code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="esqlabsr-300">esqlabsR 3.0.0<a class="anchor" aria-label="anchor" href="#esqlabsr-300"></a></h2>
<div class="section level3">
<h3 id="major-changes-3-0-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-3-0-0"></a></h3>
<ul><li>
<p>To carry out and visualize sensitivity analysis:</p>
<ul><li><code><a href="../reference/sensitivityCalculation.html">sensitivityCalculation()</a></code></li>
<li><code><a href="../reference/sensitivitySpiderPlot.html">sensitivitySpiderPlot()</a></code></li>
<li><code><a href="../reference/sensitivityTimeProfiles.html">sensitivityTimeProfiles()</a></code></li>
</ul></li>
<li>
<p>Classes and functions for standard esqLABS simulation workflow:</p>
<ul><li><code>ProjectConfiguration</code></li>
<li><code>ScenarioConfiguration</code></li>
<li><code><a href="../reference/createDefaultProjectConfiguration.html">createDefaultProjectConfiguration()</a></code></li>
<li><code><a href="../reference/readScenarioConfigurationFromExcel.html">readScenarioConfigurationFromExcel()</a></code></li>
<li><code><a href="../reference/setApplications.html">setApplications()</a></code></li>
<li><code>initializeScenario()</code></li>
</ul></li>
<li><p>Maintenance and bug fixes.</p></li>
<li><p>The package gains a new dependency: <a href="https://www.open-systems-pharmacology.org/OSPSuite.RUtils/" class="external-link"><code>{ospsuite.utils}</code></a>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="esqlabsr-200">esqlabsR 2.0.0<a class="anchor" aria-label="anchor" href="#esqlabsr-200"></a></h2>
<ul><li>Maintenance and bug fixes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="esqlabsr-100">esqlabsR 1.0.0<a class="anchor" aria-label="anchor" href="#esqlabsr-100"></a></h2>
<ul><li>Initial release of the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://esqlabs.com/" class="external-link"><img src="https://esqlabs.github.io/esqlabsR/reference/figures/circles.png" style="max-width:33px">esqLABS</a>, Pavel Balazki, Johanna Eitel, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Sergei Vavilov, <a href="https://github.com/Felixmil" class="external-link">Felix Mil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

