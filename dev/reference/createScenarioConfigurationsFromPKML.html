<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create scenario configurations from PKML files — createScenarioConfigurationsFromPKML • esqlabsR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create scenario configurations from PKML files — createScenarioConfigurationsFromPKML"><meta name="description" content="Creates scenario configurations from PKML files by extracting available information
such as applications, output paths, and simulation time settings. This function
creates scenario configuration objects that can be used with the esqlabsR workflow."><meta property="og:description" content="Creates scenario configurations from PKML files by extracting available information
such as applications, output paths, and simulation time settings. This function
creates scenario configuration objects that can be used with the esqlabsR workflow."><meta property="og:image" content="https://esqlabs.github.io/esqlabsR/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">esqlabsR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">5.4.0.9018</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/esqlabsR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>esqlabsR Workflow</h6></li>
    <li><a class="dropdown-item" href="../articles/workflow-overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/project-structure.html">1. Initialize a Project</a></li>
    <li><a class="dropdown-item" href="../articles/design-scenarios.html">2. Design Scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/run-simulations.html">3. Run Simulations</a></li>
    <li><a class="dropdown-item" href="../articles/plot-results.html">4. Plot Results</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Miscellaneous</h6></li>
    <li><a class="dropdown-item" href="../articles/presentations.html">Presentations</a></li>
    <li><a class="dropdown-item" href="../articles/sensitivity.html">Sensitivity Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/advanced.html">Advanced Topics</a></li>
    <li><a class="dropdown-item" href="../articles/project-migration-guide.html">Migrating Project Structure Versions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/esqLABS/esqlabsR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create scenario configurations from PKML files</h1>
      <small class="dont-index">Source: <a href="https://github.com/esqLABS/esqlabsR/blob/main/R/utilities-scenario-configuration.R" class="external-link"><code>R/utilities-scenario-configuration.R</code></a></small>
      <div class="d-none name"><code>createScenarioConfigurationsFromPKML.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates scenario configurations from PKML files by extracting available information
such as applications, output paths, and simulation time settings. This function
creates scenario configuration objects that can be used with the esqlabsR workflow.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">createScenarioConfigurationsFromPKML</span><span class="op">(</span></span>
<span>  <span class="va">pkmlFilePaths</span>,</span>
<span>  <span class="va">projectConfiguration</span>,</span>
<span>  scenarioNames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  individualId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  populationId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  applicationProtocols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paramSheets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outputPaths <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  simulationTime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  simulationTimeUnit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  steadyState <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  steadyStateTime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  steadyStateTimeUnit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  readPopulationFromCSV <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pkmlfilepaths">pkmlFilePaths<a class="anchor" aria-label="anchor" href="#arg-pkmlfilepaths"></a></dt>
<dd><p>Character vector of paths to PKML files to create scenarios from.</p></dd>


<dt id="arg-projectconfiguration">projectConfiguration<a class="anchor" aria-label="anchor" href="#arg-projectconfiguration"></a></dt>
<dd><p>A <code>ProjectConfiguration</code> object holding base information.</p></dd>


<dt id="arg-scenarionames">scenarioNames<a class="anchor" aria-label="anchor" href="#arg-scenarionames"></a></dt>
<dd><p>Character vector. Optional custom names for the scenarios. If <code>NULL</code> (default),
scenario names will be extracted from the simulation names in the PKML files.
If provided, must have the same length as <code>pkmlFilePaths</code>.</p></dd>


<dt id="arg-individualid">individualId<a class="anchor" aria-label="anchor" href="#arg-individualid"></a></dt>
<dd><p>Character string. Optional individual ID to use for all scenarios. If <code>NULL</code> (default),
no individual will be specified.</p></dd>


<dt id="arg-populationid">populationId<a class="anchor" aria-label="anchor" href="#arg-populationid"></a></dt>
<dd><p>Character string. Optional population ID to use for all scenarios. If <code>NULL</code> (default),
no population will be specified. If provided, sets simulation type to "Population".</p></dd>


<dt id="arg-applicationprotocols">applicationProtocols<a class="anchor" aria-label="anchor" href="#arg-applicationprotocols"></a></dt>
<dd><p>Character vector. Optional application protocol names to use for scenarios.
If <code>NULL</code> (default), application protocols will be set to the scenario name.
If provided, can be a single string (applied to all scenarios) or a vector
with the same length as <code>pkmlFilePaths</code>.</p></dd>


<dt id="arg-paramsheets">paramSheets<a class="anchor" aria-label="anchor" href="#arg-paramsheets"></a></dt>
<dd><p>Character vector. Optional parameter sheet names to apply to scenarios.
If <code>NULL</code> (default), no parameter sheets will be applied.</p></dd>


<dt id="arg-outputpaths">outputPaths<a class="anchor" aria-label="anchor" href="#arg-outputpaths"></a></dt>
<dd><p>Character vector. Optional output paths to use for scenarios. If <code>NULL</code> (default),
output paths will be extracted from the PKML files' output selections.</p></dd>


<dt id="arg-simulationtime">simulationTime<a class="anchor" aria-label="anchor" href="#arg-simulationtime"></a></dt>
<dd><p>Character string. Optional simulation time to use for scenarios as character string containing one or
multiple time intervals separated by a ';'. Each time interval is a triplet of values &lt;StartTime, EndTime, Resolution&gt;,
where <code>Resolution</code> is the number of simulated points per time unit defined in the <code>simulationTimeUnit</code>. If <code>NULL</code> (default),
simulation time will be extracted from the PKML files' output schema intervals.</p></dd>


<dt id="arg-simulationtimeunit">simulationTimeUnit<a class="anchor" aria-label="anchor" href="#arg-simulationtimeunit"></a></dt>
<dd><p>Character string. Optional simulation time unit. Only used when <code>simulationTime</code> is provided.
If <code>NULL</code> (default), will be extracted from the PKML file's output schema intervals, or set to "min" (minutes) if not available.</p></dd>


<dt id="arg-steadystate">steadyState<a class="anchor" aria-label="anchor" href="#arg-steadystate"></a></dt>
<dd><p>Logical. Whether to simulate steady-state. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-steadystatetime">steadyStateTime<a class="anchor" aria-label="anchor" href="#arg-steadystatetime"></a></dt>
<dd><p>Numeric. Steady-state time. Only used when <code>steadyState = TRUE</code>.
If <code>NULL</code> (default), no steady-state time will be set.</p></dd>


<dt id="arg-steadystatetimeunit">steadyStateTimeUnit<a class="anchor" aria-label="anchor" href="#arg-steadystatetimeunit"></a></dt>
<dd><p>Character string. Steady-state time unit. Only used when <code>steadyState = TRUE</code> and <code>steadyStateTime</code> is provided.
If <code>NULL</code> (default), "min" will be used.</p></dd>


<dt id="arg-readpopulationfromcsv">readPopulationFromCSV<a class="anchor" aria-label="anchor" href="#arg-readpopulationfromcsv"></a></dt>
<dd><p>Logical. Whether to read population from CSV. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A named list of <code>ScenarioConfiguration</code> objects with the names being
the scenario names.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function extracts the following information from PKML files:</p><ul><li><p><strong>Applications</strong>: Application protocol names (defaults to scenario name).</p></li>
<li><p><strong>Output paths</strong>: All selected outputs for the simulation from <code>outputSelections$allOutputs</code>.</p></li>
<li><p><strong>Simulation time</strong>: Time intervals with start time, end time, and resolution from <code>outputSchema$intervals</code>.</p></li>
<li><p><strong>Simulation time unit</strong>: Time unit from the output schema intervals (e.g., "h" for hours).</p></li>
</ul><p>The function handles duplicate scenario names by appending indices (e.g., "Scenario_1", "Scenario_2").
It creates scenario configurations but does not write them to Excel files.
Use <code><a href="addScenarioConfigurationsToExcel.html">addScenarioConfigurationsToExcel()</a></code> to add the scenarios to the project's Excel files.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Create default project configuration</span></span></span>
<span class="r-in"><span><span class="va">projectConfiguration</span> <span class="op">&lt;-</span> <span class="fu"><a href="createDefaultProjectConfiguration.html">createDefaultProjectConfiguration</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create scenarios from a single PKML file</span></span></span>
<span class="r-in"><span><span class="va">pkmlPath</span> <span class="op">&lt;-</span> <span class="st">"path/to/simulation.pkml"</span></span></span>
<span class="r-in"><span><span class="va">scenarios</span> <span class="op">&lt;-</span> <span class="fu">createScenarioConfigurationsFromPKML</span><span class="op">(</span></span></span>
<span class="r-in"><span>  pkmlFilePaths <span class="op">=</span> <span class="va">pkmlPath</span>,</span></span>
<span class="r-in"><span>  projectConfiguration <span class="op">=</span> <span class="va">projectConfiguration</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add scenarios to Excel configuration</span></span></span>
<span class="r-in"><span><span class="fu"><a href="addScenarioConfigurationsToExcel.html">addScenarioConfigurationsToExcel</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  scenarioConfigurations <span class="op">=</span> <span class="va">scenarios</span>,</span></span>
<span class="r-in"><span>  projectConfiguration <span class="op">=</span> <span class="va">projectConfiguration</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create scenarios from multiple PKML files with custom names</span></span></span>
<span class="r-in"><span><span class="va">pkmlPaths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"path/to/sim1.pkml"</span>, <span class="st">"path/to/sim2.pkml"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scenarios</span> <span class="op">&lt;-</span> <span class="fu">createScenarioConfigurationsFromPKML</span><span class="op">(</span></span></span>
<span class="r-in"><span>  pkmlFilePaths <span class="op">=</span> <span class="va">pkmlPaths</span>,</span></span>
<span class="r-in"><span>  projectConfiguration <span class="op">=</span> <span class="va">projectConfiguration</span>,</span></span>
<span class="r-in"><span>  scenarioNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Scenario1"</span>, <span class="st">"Scenario2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add multiple scenarios to configuration</span></span></span>
<span class="r-in"><span><span class="fu"><a href="addScenarioConfigurationsToExcel.html">addScenarioConfigurationsToExcel</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  scenarioConfigurations <span class="op">=</span> <span class="va">scenarios</span>,</span></span>
<span class="r-in"><span>  projectConfiguration <span class="op">=</span> <span class="va">projectConfiguration</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://esqlabs.com/" class="external-link"><img src="https://esqlabs.github.io/esqlabsR/reference/figures/circles.png" style="max-width:33px">esqLABS</a>, Pavel Balazki, Johanna Eitel, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Sergei Vavilov, <a href="https://github.com/Felixmil" class="external-link">Felix Mil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

