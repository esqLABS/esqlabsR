<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1. Initialize a Project • esqlabsR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="1. Initialize a Project">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">esqlabsR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">5.4.0.9016</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/esqlabsR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>esqlabsR Workflow</h6></li>
    <li><a class="dropdown-item" href="../articles/workflow-overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/project-structure.html">1. Initialize a Project</a></li>
    <li><a class="dropdown-item" href="../articles/design-scenarios.html">2. Design Scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/run-simulations.html">3. Run Simulations</a></li>
    <li><a class="dropdown-item" href="../articles/plot-results.html">4. Plot Results</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Miscellaneous</h6></li>
    <li><a class="dropdown-item" href="../articles/presentations.html">Presentations</a></li>
    <li><a class="dropdown-item" href="../articles/sensitivity.html">Sensitivity Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/advanced.html">Advanced Topics</a></li>
    <li><a class="dropdown-item" href="../articles/project-migration-guide.html">Migrating Project Structure Versions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/esqLABS/esqlabsR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="project-structure_files/core-js-2.5.3/shim.min.js"></script><script src="project-structure_files/react-18.2.0/react.min.js"></script><script src="project-structure_files/react-18.2.0/react-dom.min.js"></script><script src="project-structure_files/reactwidget-2.0.0/react-tools.js"></script><link href="project-structure_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="project-structure_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="project-structure_files/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="project-structure_files/reactable-binding-0.4.4/reactable.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>1. Initialize a Project</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/esqLABS/esqlabsR/blob/main/vignettes/project-structure.Rmd" class="external-link"><code>vignettes/project-structure.Rmd</code></a></small>
      <div class="d-none name"><code>project-structure.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="initialize-the-project-structure">Initialize the Project Structure<a class="anchor" aria-label="anchor" href="#initialize-the-project-structure"></a>
</h2>
<p>Project Structure can be initialized by calling the function
<code><a href="../reference/initProject.html">initProject()</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/esqLABS/esqlabsR" class="external-link">esqlabsR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/initProject.html">initProject</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will create a set of directories and files that match the
expected project’s structure.</p>
<pre><code><span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">/home/runner/work/_temp/Library/esqlabsR/extdata/examples/TestProject</span></span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">Configurations</span></span></span>
<span><span class="co">#&gt; │   ├── Applications.xlsx</span></span>
<span><span class="co">#&gt; │   ├── Individuals.xlsx</span></span>
<span><span class="co">#&gt; │   ├── ModelParameters.xlsx</span></span>
<span><span class="co">#&gt; │   ├── Plots.xlsx</span></span>
<span><span class="co">#&gt; │   ├── Populations.xlsx</span></span>
<span><span class="co">#&gt; │   ├── <span style="color: #0000BB; font-weight: bold;">PopulationsCSV</span></span></span>
<span><span class="co">#&gt; │   │   └── TestPopulation.csv</span></span>
<span><span class="co">#&gt; │   └── Scenarios.xlsx</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">Data</span></span></span>
<span><span class="co">#&gt; │   ├── TestProject_TimeValuesData.xlsx</span></span>
<span><span class="co">#&gt; │   └── esqlabs_dataImporter_configuration.xml</span></span>
<span><span class="co">#&gt; ├── <span style="color: #0000BB; font-weight: bold;">Models</span></span></span>
<span><span class="co">#&gt; │   └── <span style="color: #0000BB; font-weight: bold;">Simulations</span></span></span>
<span><span class="co">#&gt; │       └── Aciclovir.pkml</span></span>
<span><span class="co">#&gt; ├── ProjectConfiguration.json</span></span>
<span><span class="co">#&gt; ├── ProjectConfiguration.xlsx</span></span>
<span><span class="co">#&gt; └── <span style="color: #0000BB; font-weight: bold;">Results</span></span></span>
<span><span class="co">#&gt;     ├── <span style="color: #BB00BB; font-weight: bold;">All plots.png</span></span></span>
<span><span class="co">#&gt;     ├── <span style="color: #0000BB; font-weight: bold;">Figures</span></span></span>
<span><span class="co">#&gt;     └── <span style="color: #0000BB; font-weight: bold;">SimulationResults</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="create-a-projectconfiguration">Create a ProjectConfiguration<a class="anchor" aria-label="anchor" href="#create-a-projectconfiguration"></a>
</h2>
<p>The <code>ProjectConfiguration</code> stores the paths to the model-,
data-, and other files and directories. It will be used at several steps
in <code>esqlabsR</code> workflows so it needs to be created before
performing any simulations.</p>
<p>By printing the <code>ProjectConfiguration</code>, we can see the
locations of all files used in the workflows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_project_configuration</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createProjectConfiguration.html">createProjectConfiguration</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="../reference/exampleProjectConfigurationPath.html">exampleProjectConfigurationPath</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now that the project structure is initialized and the
<code>ProjectConfiguration</code> is created, read
<code><a href="../articles/design-scenarios.html">vignette("design-scenarios")</a></code> to continue the process. To
learn more about <code>ProjectConfiguration</code>, read the following
sections.</p>
</div>
<div class="section level2">
<h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
<div class="section level3">
<h3 id="change-projectconfiguration-from-r">Change ProjectConfiguration from R<a class="anchor" aria-label="anchor" href="#change-projectconfiguration-from-r"></a>
</h3>
<p>If required, you can change the location of one of the files or
folders using relative or absolute paths</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># change the location of the output folder</span></span>
<span><span class="va">projectConfiguration</span><span class="op">$</span><span class="va">outputFolder</span> <span class="op">&lt;-</span> <span class="st">"../anotherOutputFolder"</span></span>
<span></span>
<span><span class="co"># change the location of the model parameters file</span></span>
<span><span class="va">projectConfiguration</span><span class="op">$</span><span class="va">modelParametersFile</span> <span class="op">&lt;-</span> <span class="st">"absolute/path/to/anotherModelParameters.xlsx"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="about-projectconfiguration-xlsx">About <code>ProjectConfiguration.xlsx</code><a class="anchor" aria-label="anchor" href="#about-projectconfiguration-xlsx"></a>
</h3>
<p>The <code>ProjectConfiguration.xlsx</code> file will be used by
<code>esqlabsR</code> to generate a <code>ProjectConfiguration</code>
object which is the central piece of a project. It should be located in
the root folder of the project.</p>
<p>This file defines <em>where</em> all the necessary files are stored
in the project folder. All the path specified in the <code>Value</code>
column should be <em>relative</em> to the
<code>ProjectConfiguration.xlsx</code> location.</p>
<p>All these directories and files have a specific purpose and template
and are describe in next sections.</p>
<div class="reactable html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Property":["modelFolder","configurationsFolder","modelParamsFile","individualsFile","populationsFile","populationsFolder","scenariosFile","applicationsFile","plotsFile","dataFolder","dataFile","dataImporterConfigurationFile","outputFolder"],"Value":["Models/Simulations/","Configurations/","ModelParameters.xlsx","Individuals.xlsx","Populations.xlsx","PopulationsCSV","Scenarios.xlsx","Applications.xlsx","Plots.xlsx","Data/","TestProject_TimeValuesData.xlsx","esqlabs_dataImporter_configuration.xml","Results/"],"Description":["Path to the folder with pkml simulation files; relative to the location of this file","Path to the folder with excel files with parametrization; relative to the location of this file","Name of the excel file with global model parametrization. Must be located in the \"paramsFolder\"","Name of the excel file with individual-specific model parametrization. Must be located in the \"paramsFolder\"","Name of the excel file with population information. Must be located in the \"paramsFolder\"","Name of the folder containing population defined in files","Name of the excel file with scenario definitions. Must be located in the \"paramsFolder\"","Name of the excel file scenario-specific parameters such as application protocol parameters. Must be located in the \"paramsFolder\"","Name of the excel file with plot definitions. Must be located in the \"paramsFolder\"","Path to the folder where experimental data files are located; relative to the location of this file","Name of the excel file with experimental data. Must be located in the \"dataFolder\"","Name of data importer configuration file in xml format used to load the data. Must be located in the \"dataFolder\"","Path to the folder where the results should be saved to; relative to the location of this file"]},"columns":[{"id":"Property","name":"Property","type":"character","minWidth":50},{"id":"Value","name":"Value","type":"character","show":false},{"id":"Description","name":"Description","type":"character","minWidth":100}],"pagination":false,"highlight":true,"outlined":true,"dataKey":"50d3dea7dbefa00ef23ab7d154c6edd5"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level3">
<h3 id="version-control-and-project-sharing">Version Control and Project Sharing<a class="anchor" aria-label="anchor" href="#version-control-and-project-sharing"></a>
</h3>
<p>While Excel provides an excellent interface for quickly editing and
creating new entries in your project configuration, it has limitations
when it comes to version control and team collaboration - Excel files
are binary and don’t work well with Git, making it cumbersome to share
changes between team members.</p>
<p><code>esqlabsR</code> addresses these limitations by providing
powerful version control and project sharing capabilities through its
snapshot and restore functionality. This allows you to:</p>
<ul>
<li>
<strong>Track changes</strong> to your project configuration in
version control systems like Git</li>
<li>
<strong>Share projects</strong> with team members easily</li>
<li>
<strong>Create backups</strong> before making significant
changes</li>
<li>
<strong>Ensure reproducibility</strong> across different
environments</li>
</ul>
<div class="section level4">
<h4 id="creating-project-snapshots">Creating Project Snapshots<a class="anchor" aria-label="anchor" href="#creating-project-snapshots"></a>
</h4>
<p>The <code><a href="../reference/snapshotProjectConfiguration.html">snapshotProjectConfiguration()</a></code> function exports all
Excel configuration files in your project to a single JSON file. This
JSON format is ideal for version control as it’s:</p>
<ul>
<li>
<strong>Text-based</strong>: Easy to track changes in Git</li>
<li>
<strong>Human-readable</strong>: Can be reviewed and compared</li>
<li>
<strong>Complete</strong>: Contains all project configuration
data</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a snapshot from a ProjectConfiguration object</span></span>
<span><span class="va">my_project_configuration</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createProjectConfiguration.html">createProjectConfiguration</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.xlsx"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/snapshotProjectConfiguration.html">snapshotProjectConfiguration</a></span><span class="op">(</span><span class="va">my_project_configuration</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or create a snapshot directly from the Excel file path</span></span>
<span><span class="fu"><a href="../reference/snapshotProjectConfiguration.html">snapshotProjectConfiguration</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>By default, the JSON file will be created in the same directory as
your <code>ProjectConfiguration.xlsx</code> file with the name
<code>ProjectConfiguration.json</code>.</p>
</div>
<div class="section level4">
<h4 id="restoring-from-snapshots">Restoring from Snapshots<a class="anchor" aria-label="anchor" href="#restoring-from-snapshots"></a>
</h4>
<p>The <code><a href="../reference/restoreProjectConfiguration.html">restoreProjectConfiguration()</a></code> function recreates
your entire project configuration from a JSON snapshot:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Restore a project from a JSON snapshot</span></span>
<span><span class="va">restored_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/restoreProjectConfiguration.html">restoreProjectConfiguration</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.json"</span><span class="op">)</span></span></code></pre></div>
<p>This function will: 1. Create the necessary directory structure 2.
Regenerate all Excel configuration files 3. Return a new
<code>ProjectConfiguration</code> object</p>
</div>
<div class="section level4">
<h4 id="checking-project-status">Checking Project Status<a class="anchor" aria-label="anchor" href="#checking-project-status"></a>
</h4>
<p>Use <code><a href="../reference/projectConfigurationStatus.html">projectConfigurationStatus()</a></code> to check if your Excel
files are synchronized with your JSON snapshot:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check if files are in sync</span></span>
<span><span class="va">status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projectConfigurationStatus.html">projectConfigurationStatus</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.xlsx"</span>, <span class="st">"ProjectConfiguration.json"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">status</span><span class="op">$</span><span class="va">in_sync</span><span class="op">)</span>  <span class="co"># TRUE if synchronized, FALSE otherwise</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="workflow-examples">Workflow Examples<a class="anchor" aria-label="anchor" href="#workflow-examples"></a>
</h4>
<p><strong>Team Collaboration</strong>: When working with a team:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Initial Setup</strong>: Create a snapshot of your project
configuration</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/snapshotProjectConfiguration.html">snapshotProjectConfiguration</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.xlsx"</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Version Control</strong>: Commit the JSON file to your
Git repository</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">git</span> add ProjectConfiguration.json</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Add project configuration snapshot"</span></span></code></pre></div>
</li>
<li>
<p><strong>Team Sharing</strong>: Team members can restore the
project</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">restored_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/restoreProjectConfiguration.html">restoreProjectConfiguration</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.json"</span><span class="op">)</span></span></code></pre></div>
</li>
</ol>
<p><strong>Backup Strategy</strong>: Before making significant changes
to your project:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a backup snapshot</span></span>
<span><span class="fu"><a href="../reference/snapshotProjectConfiguration.html">snapshotProjectConfiguration</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.xlsx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make your changes...</span></span>
<span></span>
<span><span class="co"># If something goes wrong, restore from the snapshot</span></span>
<span><span class="va">restored_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/restoreProjectConfiguration.html">restoreProjectConfiguration</a></span><span class="op">(</span><span class="st">"ProjectConfiguration.json"</span><span class="op">)</span></span></code></pre></div>
<p>The version control features in <code>esqlabsR</code> provide a
robust foundation for team collaboration and project management. By
using snapshots, you can maintain project history in version control
systems, share configurations easily with team members, create reliable
backups before making changes, and ensure reproducibility across
different environments.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://esqlabs.com/" class="external-link"><img src="https://esqlabs.github.io/esqlabsR/reference/figures/circles.png" style="max-width:33px">esqLABS</a>, Pavel Balazki, Johanna Eitel, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, Sergei Vavilov, <a href="https://github.com/Felixmil" class="external-link">Felix Mil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
