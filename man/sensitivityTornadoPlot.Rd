% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sensitivity-tornado-plot.R
\name{sensitivityTornadoPlot}
\alias{sensitivityTornadoPlot}
\title{Tornado Plot for Sensitivity Analysis}
\usage{
sensitivityTornadoPlot(
  sensitivityCalculation,
  outputPaths = NULL,
  parameterPaths = NULL,
  pkParameters = NULL,
  parameterFactor = 0.1,
  xAxisZoomRange = NULL,
  defaultPlotConfiguration = NULL
)
}
\arguments{
\item{sensitivityCalculation}{The \code{SensitivityCalculation} object returned by
\code{sensitivityCalculation()}.}

\item{outputPaths, parameterPaths, pkParameters}{A single or a vector of the
output path(s), parameter path(s), and PK parameters to be displayed,
respectively. If \code{NULL}, all included paths and parameters present in the
supplied \code{SensitivityCalculation} object will be displayed in the
visualization. A separate plot will be generated for each output path. Each
plot will contain a tornado plot panel for each PK parameter, and the
sensitivities for each parameter will be displayed as lines.}

\item{parameterFactor}{Numeric; the scaling factor used to adjust parameters
during sensitivity analysis used in the tornado plot. Both the
\code{parameterFactor} and its reciprocal (\code{1/parameterFactor}) must be included
in the \code{variationRange} specified in the \code{sensitivityCalculation}. Default
is 0.1.}

\item{xAxisZoomRange}{Numeric vector of length 2; specifies the x-axis limits
to zoom into. This does not remove any data but constrains the visible
plotting range for improved readability.}

\item{defaultPlotConfiguration}{An object of class \code{DefaultPlotConfiguration}
used to customize plot aesthetics.

Supported parameters include:
\itemize{
\item \code{legendPosition}: Position of the legend on the plot.
\item \code{legendTitle}: Title displayed for the legend.
\item \code{linesColor}: Color of the bar elements.
\item \code{subtitle}: Subtitle text for the plot.
\item \code{title}: Main title text for the plot.
\item \code{titleSize}: Font size of the plot title.
\item \code{xLabel}: Label text for the x-axis.
\item \code{yLabel}: Label text for the y-axis.

Default values are set to provide a standardized look, but each parameter
can be tailored to fit specific visual needs. Modifying these parameters
will directly affect the aesthetics of the output plots.
}}
}
\value{
A \code{patchwork} object containing the combined ggplot objects if a
single output path is specified, or a list of \code{patchwork} objects for
multiple output paths.
}
\description{
Generates tornado plots to visualize the results of sensitivity
analysis. Each plot shows the effect of modifying parameters by a specific
scaling factor (\code{parameterFactor}) and its reciprocal on specific model
outputs. This visualization helps to assess the impact of parameter changes
on the results, highlighting the model's sensitivity to these parameters.
}
\examples{
\dontrun{
simPath <- system.file("extdata", "Aciclovir.pkml", package = "ospsuite")
simulation <- loadSimulation(simPath)
outputPaths <- "Organism|PeripheralVenousBlood|Aciclovir|Plasma (Peripheral Venous Blood)"
parameterPaths <- c(
  "Aciclovir|Lipophilicity",
  "Applications|IV 250mg 10min|Application_1|ProtocolSchemaItem|Dose",
  "Neighborhoods|Kidney_pls_Kidney_ur|Aciclovir|Glomerular Filtration-GFR|GFR fraction"
)

results <- sensitivityCalculation(
  simulation = simulation,
  outputPaths = outputPaths,
  parameterPaths = parameterPaths,
  variationRange = c(seq(0.1, 1, by = 0.1), seq(2, 10, by = 1)),
)

# Print plots with default settings
sensitivityTornadoPlot(results)

# Print plots with specific parameter scaling factor
sensitivityTornadoPlot(results, parameterFactor = 0.5)

# Print plots with custom configuration settings
myPlotConfiguration <- createEsqlabsPlotConfiguration()
myPlotConfiguration$legendPosition <- "bottom"
myPlotConfiguration$subtitle <- "Custom settings"
sensitivityTornadoPlot(results, defaultPlotConfiguration = myPlotConfiguration)

# Use named parameter paths to customize axis labels
namedParameterPaths <- c(
  "Lipophilicity" = "Aciclovir|Lipophilicity",
  "Dose" = "Applications|IV 250mg 10min|Application_1|ProtocolSchemaItem|Dose",
  "GFR fraction" = "Neighborhoods|Kidney_pls_Kidney_ur|Aciclovir|Glomerular Filtration-GFR|GFR fraction"
)

resultsNamed <- sensitivityCalculation(
  simulation = simulation,
  outputPaths = outputPaths,
  parameterPaths = namedParameterPaths
)

sensitivityTornadoPlot(resultsNamed)
}

}
\seealso{
Other sensitivity-calculation: 
\code{\link{sensitivityCalculation}()},
\code{\link{sensitivitySpiderPlot}()},
\code{\link{sensitivityTimeProfiles}()}
}
\concept{sensitivity-calculation}
